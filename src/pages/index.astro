---
import BaseLayout from '../layouts/BaseLayout.astro';
import GuidedMatcher from '../components/GuidedMatcher.astro';
import PersonalizedResults from '../components/PersonalizedResults.astro';
import OrganizationSchema from '../components/OrganizationSchema.astro';
import { Eye, ShieldCheck, Shield, Heart, Sparkles, Activity, TrendingDown, Brain, Stethoscope, Zap, Moon, AlertCircle } from 'lucide-astro';
import { getCategoryIcon } from '../utils/helpers';

const categories = [
  {
    title: 'Fix Erection Problems',
    slug: 'sexual-health',
    description: 'Get your confidence back. Real ED treatments that work, discreetly delivered.',
    providersCount: 8,
  },
  {
    title: 'Stop Hair Loss',
    slug: 'hair-health',
    description: 'Stop the thinning, see regrowth. Proven treatments from $7/month.',
    providersCount: 5,
  },
  {
    title: 'Boost Energy & Build Muscle',
    slug: 'testosterone',
    description: 'Build muscle, boost energy. Real TRT with proper medical oversight.',
    providersCount: 7,
  },
  {
    title: 'Lose Weight',
    slug: 'weight-loss',
    description: 'Finally lose the weight. GLP-1 medications helping you drop 15-20%.',
    providersCount: 6,
  },
  {
    title: 'Optimize Performance',
    slug: 'peptides',
    description: 'Accelerate healing, optimize performance. Medical peptides with expert guidance.',
    providersCount: 8,
  },
  {
    title: 'Feel Better Mentally',
    slug: 'mental-health',
    description: 'Feel like yourself again. Licensed therapists from the privacy of home.',
    providersCount: 2,
  },
  {
    title: 'Get Lab Testing',
    slug: 'diagnostics',
    description: 'Know what\'s really going on. Lab-quality testing without the doctor visit.',
    providersCount: 1,
  },
  {
    title: 'Sleep Better',
    slug: 'sleep',
    description: 'Finally sleep through the night. Science-backed solutions for better rest.',
    providersCount: 1,
  },
  {
    title: 'Treat Herpes',
    slug: 'herpes',
    description: 'Discreet treatment and prevention. Manage outbreaks with medical support.',
    providersCount: 1,
  },
];

const categoryIcons: Record<string, any> = {
  'sexual-health': Heart,
  'hair-health': Sparkles,
  'testosterone': Activity,
  'weight-loss': TrendingDown,
  'peptides': Zap,
  'mental-health': Brain,
  'diagnostics': Stethoscope,
  'sleep': Moon,
  'herpes': AlertCircle,
};

---

<BaseLayout
  title="Best Men's Telehealth Services Compared & Reviewed 2025"
  description="Evidence-based comparisons of telehealth services for men's health. Compare ED treatments, hair loss solutions, TRT clinics, weight loss programs, and more."
  image="/images/homepage-og.png"
>
  <!-- Organization & Website Schema -->
  <OrganizationSchema />

  <!-- Hero Section -->
  <section class="section bg-mesh-blue">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto text-center mb-16">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-100 text-slate-700 text-sm font-medium mb-8 border border-slate-200">
          <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
          Best Telehealth Services for Men
        </div>

        <h1 class="font-bold text-slate-900 mb-4 sm:mb-6 leading-tight px-4">
          Feel Like
          <span class="relative inline-block">
            <span class="relative z-10">Yourself Again</span>
            <span class="absolute bottom-2 left-0 w-full h-3 bg-brand-accent/20 -rotate-1"></span>
          </span>
        </h1>

        <p class="text-base sm:text-lg lg:text-xl text-slate-600 mb-3 sm:mb-4 leading-relaxed max-w-2xl mx-auto px-4">
          Better performance. Fuller hair. More energy. Real confidence. Find the treatment that gets you there — with honest pricing, real doctors, and complete privacy.
        </p>

        <p class="text-sm sm:text-base text-slate-500 mb-6 sm:mb-8 max-w-2xl mx-auto px-4">
          Answer 3 questions. Get matched with the right treatment for your goals. <strong>Takes 2 minutes.</strong>
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href="#matcher" class="btn-primary px-8 group">
            Find My Treatment
            <svg class="w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
            </svg>
          </a>
          <a href="#categories" class="btn-ghost group">
            Browse by Goal
            <svg class="w-4 h-4 ml-2 opacity-50 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </a>
        </div>
      </div>

      <!-- Stats Bar -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto px-4">
        <div class="text-center p-3 sm:p-4">
          <div class="text-xl sm:text-2xl lg:text-3xl font-bold text-slate-900 mb-1">2 min</div>
          <div class="text-xs sm:text-sm text-slate-600">Time to find your match</div>
        </div>
        <div class="text-center p-3 sm:p-4">
          <div class="text-xl sm:text-2xl lg:text-3xl font-bold text-slate-900 mb-1">Real pricing</div>
          <div class="text-xs sm:text-sm text-slate-600">All fees shown upfront</div>
        </div>
        <div class="text-center p-3 sm:p-4">
          <div class="text-xl sm:text-2xl lg:text-3xl font-bold text-slate-900 mb-1">9</div>
          <div class="text-xs sm:text-sm text-slate-600">Health categories</div>
        </div>
        <div class="text-center p-3 sm:p-4">
          <div class="text-xl sm:text-2xl lg:text-3xl font-bold text-slate-900 mb-1">100%</div>
          <div class="text-xs sm:text-sm text-slate-600">Private & discreet</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Guided Matcher Section -->
  <section id="matcher" class="section-light">
    <div class="container-custom">
      <GuidedMatcher />
    </div>
  </section>

  <!-- Personalized Results (shown after guided matching) -->
  <section class="section bg-white">
    <div class="container-custom">
      <PersonalizedResults />
    </div>
  </section>

  <!-- Philosophy Section -->
  <section class="section bg-mesh-blue">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="font-bold text-slate-900 mb-4 sm:mb-6 px-4">
          The Right Treatment Changes Everything
        </h2>
        <p class="text-base sm:text-lg text-slate-600 leading-relaxed mb-6 sm:mb-8 px-4">
          Stop settling. Stop searching. Whether you want better performance in bed, to see your hair grow back, or finally feel like yourself again — <strong>the right treatment is out there</strong>. We'll help you find it.
        </p>
        <div class="grid sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 lg:gap-5">
          <div class="card p-card-md md:p-card-lg flex flex-col items-center text-center h-full">
            <div class="mb-4 text-blue-600 flex justify-center">
              <Eye class="w-12 h-12 md:w-14 md:h-14" />
            </div>
            <h3 class="font-heading font-bold text-base sm:text-lg mb-2 text-slate-900">Know What You're Paying</h3>
            <p class="text-slate-600 text-sm leading-snug">
              Real per-dose pricing, all fees included. No bait-and-switch at checkout. Get the treatment you need without breaking the bank.
            </p>
          </div>
          <div class="card p-card-md md:p-card-lg flex flex-col items-center text-center h-full">
            <div class="mb-4 text-emerald-600 flex justify-center">
              <ShieldCheck class="w-12 h-12 md:w-14 md:h-14" />
            </div>
            <h3 class="font-heading font-bold text-base sm:text-lg mb-2 text-slate-900">Safe, Real Results</h3>
            <p class="text-slate-600 text-sm leading-snug">
              Licensed US doctors, FDA-approved meds only. Real treatments that actually work — not sketchy pills from overseas.
            </p>
          </div>
          <div class="card p-card-md md:p-card-lg flex flex-col items-center text-center h-full">
            <div class="mb-4 text-purple-600 flex justify-center">
              <Shield class="w-12 h-12 md:w-14 md:h-14" />
            </div>
            <h3 class="font-heading font-bold text-base sm:text-lg mb-2 text-slate-900">Total Privacy</h3>
            <p class="text-slate-600 text-sm leading-snug">
              Unmarked boxes. Discreet billing. No awkward pharmacy trips. Get what you need without anyone knowing.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section id="categories" class="section-light">
    <div class="container-custom">
      <div class="text-center mb-8 sm:mb-10 lg:mb-12">
        <h2 class="font-bold text-slate-900 mb-3 sm:mb-4 px-4">
          What Do You Want to Change?
        </h2>
        <p class="text-base sm:text-lg text-slate-600 max-w-2xl mx-auto px-4">
          Pick your goal. We'll show you the treatments that actually work.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 lg:gap-6">
        {categories.map((category) => {
          const IconComponent = categoryIcons[category.slug];
          return (
            <a
              href={`/${category.slug}`}
              class="card-hover p-card-md md:p-card-lg group flex flex-col h-full"
            >
              <div class="flex items-start justify-between mb-3 sm:mb-4">
                <div class="flex-1">
                  <h3 class="font-heading font-bold text-base sm:text-lg mb-1.5 sm:mb-2 text-slate-900 group-hover:text-brand-accent transition-colors">
                    {category.title}
                  </h3>
                  <span class="text-xs sm:text-sm text-slate-500">
                    {category.providersCount} services compared
                  </span>
                </div>
                <div class="text-brand-accent group-hover:scale-110 transition-transform duration-200">
                  <IconComponent class="w-12 h-12 md:w-14 md:h-14 lg:w-12 lg:h-12" />
                </div>
              </div>
              <p class="text-slate-600 text-sm leading-snug mb-3 sm:mb-4 flex-grow">
                {category.description}
              </p>
              <span class="text-brand-accent font-medium text-sm inline-flex items-center group-hover:gap-2 transition-all">
                Compare services
                <svg class="w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </span>
            </a>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Urgency Section -->
  <section class="section bg-slate-900 text-white border-t border-slate-800">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="font-bold mb-6 px-4">
          Every Day You Wait Is Another Day Stuck
        </h2>
        <p class="text-lg sm:text-xl text-slate-300 mb-6 px-4 leading-relaxed">
          You've seen what's possible. The question isn't "will this work?"
        </p>
        <p class="text-base sm:text-lg text-slate-400 mb-8 px-4">
          (Yes — licensed doctors, FDA-approved treatments, thousands of men already using them)
        </p>
        <p class="text-lg sm:text-xl text-white font-semibold mb-8 px-4">
          The question is: how much longer do you want to feel this way?
        </p>

        <div class="grid sm:grid-cols-3 gap-4 sm:gap-6 mb-10 max-w-2xl mx-auto">
          <div class="flex items-center gap-3 bg-slate-800/50 rounded-lg p-4">
            <svg class="w-6 h-6 text-emerald-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-sm sm:text-base text-slate-200">Takes 2 minutes</span>
          </div>
          <div class="flex items-center gap-3 bg-slate-800/50 rounded-lg p-4">
            <svg class="w-6 h-6 text-emerald-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-sm sm:text-base text-slate-200">No commitment</span>
          </div>
          <div class="flex items-center gap-3 bg-slate-800/50 rounded-lg p-4">
            <svg class="w-6 h-6 text-emerald-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span class="text-sm sm:text-base text-slate-200">100% private</span>
          </div>
        </div>

        <a href="#matcher" class="btn bg-brand-accent text-white hover:bg-blue-700 px-8">
          Find My Treatment Now
        </a>
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="section bg-slate-900 text-white">
    <div class="container-custom text-center">
      <h2 class="font-bold mb-3 sm:mb-4 px-4">
        Ready to Feel Like Yourself Again?
      </h2>
      <p class="text-base sm:text-lg lg:text-xl text-slate-300 mb-6 sm:mb-8 max-w-2xl mx-auto px-4">
        The transformation starts with finding the right treatment. Two minutes from now, you'll know exactly what that is.
      </p>
      <a href="#matcher" class="btn bg-white text-slate-900 hover:bg-slate-100 px-6 sm:px-8">
        Find My Treatment
      </a>
    </div>
  </section>
</BaseLayout>
