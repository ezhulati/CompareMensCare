---
const navItems = [
  { title: 'Sexual Health', href: '/sexual-health' },
  { title: 'Hair Health', href: '/hair-health' },
  { title: 'Testosterone', href: '/testosterone' },
  { title: 'Weight Loss', href: '/weight-loss' },
  { title: 'Mental Health', href: '/mental-health' },
  { title: 'Diagnostics', href: '/diagnostics' },
];

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm">
  <nav class="container-custom">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="/" class="flex items-center space-x-3 group">
          <!-- SVG Icon -->
          <div class="w-11 h-11 flex-shrink-0 text-brand-accent group-hover:text-brand-primary transition-colors duration-300">
            <svg viewBox="0 0 954.77 763.3" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="w-full h-full">
              <path d="M569.03,682.81l21.51-107.76-25.74-103.87,31.32,95.03,15.03-3.93,45.89-38.53-42.2,44.08,20.47,25.06s-11-9.35-15.14-12.45l-27.44,57.29-12,48.61-22.06,39.71,10.65,37.26h37.28l-5.87-6.44,12.41-89.36,118.11-148.1v-25.44l-104.25-56.47-63.21,5.66-10.36,21.16,3.96-21.13,3.75-42.49,88.5-154.6-23.54,54.58,52.24-24.6,48.95-42.09,34.7-63.97,1.89-50.46-13.03-54.07-2.19-36.49-4.45-23.08-24.4-5.93-16.84,18.75-2.45,17.56,23.79,27.84.66,54.75-25.12,27.08,2.78,50.06-14.98-15.14-63.69,13.6-7.16,10.02-25.05-.72-39.86,11.83,31.27-16.12-28.07-12.33-20.36,19.48-23.61-6.26.54-4.83,23.06,10.77,21.33-34.04,13.86,6-1.86-35.65-6.14,4.14-19.31-16.07,4.55-3.1,24.96,9.38,4.83-31.1,21-13.41-81.85-41.54-18.75.24-33.55,53.26.83,38.68,5.7,5.31-10.26,30.3-29.34,15.74,45.59,23.99-54.89-18.27-54.28,24.66-30.19,26.25,41.13,34.13-46.91,23.12,4.29-6.67,42.52-16.46-52.61-38.03-42.94,20.04-6.06,9.27-18.29,46.79,12.7-49.41-19.36-31.46,11.31-53.57,28.76-22.67,1.02-17.7-12.86-21.67-25.09,1.06-8.86,21.77-9.26,35.36-23.32,50.5-7.98,49.86,20.51,69.66,20.04,4.77,36.26-5.73,30.53-14.79-22.47,15.74,38.21,3.82,21.85-11.65,30.63-33.91-17.18,36.14,44.37,38.53,27.57,47.46,80.19,20.57-78.5-11.74-13.09,53.22,30.62,50.68,39.44,25.58-35.3-15.24-4.97,76.12,38.93,107.39-12.24-14.1-85.84-19.86s-16.45,33.48-24.51,47.13l4.24-20.24-65.16-1.04-20.89-21.72-91.4,51.12h332.77l39.25-80.49ZM713.49,207.44l3.49,3.39-42.14,19.75,38.65-23.14ZM387.09,292.9l125,31.66,6.92,9.25-131.92-40.91ZM529.04,322.41l93.97-47.04-98.54,57.73-4.99-89.22,9.56,78.53Z"/>
              <polygon points="615.99 763.3 954.77 763.3 617.99 746.78 615.99 763.3"/>
              <polygon points="176.77 763.3 0 763.3 205.75 746.78 176.77 763.3"/>
            </svg>
          </div>
          <!-- Logo Text -->
          <span class="text-2xl tracking-tight">
            <span class="font-light text-slate-700">Compare</span><span class="font-extrabold text-brand-accent group-hover:text-brand-primary transition-colors duration-300">Mens</span><span class="font-semibold text-slate-900">Care</span>
          </span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex lg:items-center lg:space-x-6">
        {navItems.map((item) => (
          <a
            href={item.href}
            class:list={[
              'text-sm font-medium transition-colors hover:text-brand-primary',
              currentPath.startsWith(item.href)
                ? 'text-brand-primary'
                : 'text-gray-700'
            ]}
          >
            {item.title}
          </a>
        ))}
      </div>

      <!-- CTA Button -->
      <div class="hidden md:flex items-center space-x-4">
        <a href="/guides" class="text-sm font-medium text-gray-700 hover:text-brand-primary">
          Guides
        </a>
        <a href="/blog" class="text-sm font-medium text-gray-700 hover:text-brand-primary">
          Blog
        </a>
      </div>

      <!-- Mobile menu button -->
      <button
        type="button"
        class="lg:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-brand-primary hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-brand-primary"
        aria-label="Toggle menu"
        id="mobile-menu-button"
      >
        <svg
          class="h-6 w-6"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div class="lg:hidden hidden" id="mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1">
        {navItems.map((item) => (
          <a
            href={item.href}
            class:list={[
              'block px-3 py-2 rounded-md text-base font-medium',
              currentPath.startsWith(item.href)
                ? 'bg-brand-primary text-white'
                : 'text-gray-700 hover:bg-gray-100'
            ]}
          >
            {item.title}
          </a>
        ))}
        <a
          href="/guides"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100"
        >
          Guides
        </a>
        <a
          href="/blog"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-100"
        >
          Blog
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  // Mobile menu toggle
  const button = document.getElementById('mobile-menu-button');
  const menu = document.getElementById('mobile-menu');

  button?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
