---
import { CircleDollarSign, Shield, Zap, Award, ArrowRight } from 'lucide-astro';

interface QuickPick {
  segment: 'budget' | 'privacy' | 'speed' | 'quality';
  brandName: string;
  brandSlug: string;
  detail: string;
}

interface Props {
  picks: QuickPick[];
  category?: string;
}

const { picks, category } = Astro.props;

const segmentConfig = {
  budget: {
    label: 'Tightest Budget?',
    cardClass: 'quick-pick-card-budget',
    iconColor: 'text-emerald-600',
  },
  privacy: {
    label: 'Maximum Privacy?',
    cardClass: 'quick-pick-card-privacy',
    iconColor: 'text-purple-600',
  },
  speed: {
    label: 'Fastest Results?',
    cardClass: 'quick-pick-card-speed',
    iconColor: 'text-amber-600',
  },
  quality: {
    label: 'Best Medical Care?',
    cardClass: 'quick-pick-card-quality',
    iconColor: 'text-blue-600',
  },
};

const iconMap = {
  budget: CircleDollarSign,
  privacy: Shield,
  speed: Zap,
  quality: Award,
};
---

<section class="py-12 bg-slate-50">
  <div class="container-custom max-w-7xl">
    <div class="mb-8 px-4">
      <h2 class="text-2xl sm:text-3xl font-bold text-slate-900 mb-2">
        Quick Picks{category ? ` - ${category}` : ''}
      </h2>
      <p class="text-base sm:text-lg text-slate-600">
        Jump straight to the best option for your top priority
      </p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 px-4">
    {picks.map((pick) => {
      const config = segmentConfig[pick.segment];
      const IconComponent = iconMap[pick.segment];
      return (
        <a
          href={`/${pick.brandSlug}`}
          class={`${config.cardClass} group`}
        >
          <div class="flex items-center justify-between mb-3">
            <div class={`w-12 h-12 rounded-xl flex items-center justify-center ${config.iconColor} ${pick.segment === 'budget' ? 'bg-emerald-100' : pick.segment === 'privacy' ? 'bg-purple-100' : pick.segment === 'speed' ? 'bg-amber-100' : 'bg-blue-100'} shadow-sm group-hover:shadow-md transition-shadow`}>
              <IconComponent class="w-7 h-7" />
            </div>
            <ArrowRight class="w-5 h-5 text-slate-400 group-hover:text-slate-600 group-hover:translate-x-2 group-hover:scale-110 transition-all" />
          </div>

          <div class="quick-pick-label">
            {config.label}
          </div>

          <div class="quick-pick-brand">
            {pick.brandName}
          </div>

          <div class="quick-pick-detail">
            {pick.detail}
          </div>
        </a>
      );
    })}
    </div>

    <div class="mt-8 text-center px-4">
      <p class="text-sm sm:text-base text-slate-600">
        Not sure which matters most?
        <a href="#comparison" class="text-brand-accent hover:underline font-medium">
          View full comparison below
        </a>
      </p>
    </div>
  </div>
</section>
